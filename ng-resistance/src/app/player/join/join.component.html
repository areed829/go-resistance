<form [formGroup]="form" (ngSubmit)="join()" class="flex flex-col px-2">
  <input
    formControlName="name"
    id="name"
    placeholder="Name"
    autocomplete="off"
    type="text"
    class="w-full mt-2 mb-2 px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:border-green-500"
    required
  />
  <div
    *ngIf="form.invalid && (form.dirty || form.touched)"
    class="text-red-700 mb-5"
  >
    <div *ngIf="form.controls.name.errors?.['required']">Name is required.</div>
    <div *ngIf="form.controls.name.errors?.['nameExists']">
      Name is already used. Please choose another name.
    </div>
  </div>
  <button
    class="bg-blue-600 text-gray-100 rounded hover:bg-blue-500 disabled:bg-blue-400 px-4 py-2 focus:outline-none"
    type="submit"
    [disabled]="form.invalid"
  >
    Join
  </button>
</form>
